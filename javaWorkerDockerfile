FROM python:3.7.4-buster
RUN mkdir /daas
WORKDIR /daas
ENV PYTHONUNBUFFERED=0
ENV HOME /home/root


# Generic
RUN apt-get clean && \
apt-get update && \
apt-get install --no-install-recommends -y build-essential apt-transport-https && \
apt install --assume-yes gnutls-bin zlibc zlib1g zlib1g-dev \
unzip \
xauth \
zenity \
xvfb \
host



# Install OpenJDK-11
RUN apt update
RUN echo 'deb http://ftp.de.debian.org/debian buster main' >> /etc/apt/sources.list
RUN apt update
RUN apt-get install -y openjdk-11-jdk



# Downloading CFR:
RUN echo "installing cfr..." && \
mkdir /cfr && \
cd /cfr && \
wget -nc https://www.benf.org/other/cfr/cfr-0.142.jar && \
cd ../ && \
echo "cfr installed"


# Add source code
ADD . /daas
